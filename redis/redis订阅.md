## redis 订阅与发布  
订阅者（listener）负责订阅频道（channel），发送者（publisher）负责向频道发送二进制字符串消息。

### 缺点
1. 订阅者读取消息的速度不够快，不断积压的消息会使得redis输出缓冲区越来越大，导致redis的速度变慢，甚至奔溃。
2. 在传输过程中如果出现断网等情况，会丢消息。  

---
基于上述的描述，所以不太实用redis的订阅与发布

## redis键过期时间
只能为 **整个键** 设置过期时间，没有办法为键里面的单个元素设置过期时间。  

--
redis在到达过期时间时怎么处理？
redisDB中的expires字典中保存了所有键的过期时间。它有三种删除策略：  
1. 定时删除：设置过期时间的同时设置一个定时器，来定时器在到临时删除这个key  
2. 惰性删除：放任键过期不管。当从键空间获取键值时，先判断是否过期。如果过期了，则删除这个key，否则返回该key  
3. 定期删除：周期性扫描。  
<mark>redis使用的是惰性删除和定期删除结合<mark>
