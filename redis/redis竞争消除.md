## 分布式锁
需要构建分布式锁的原因  
1. 需要排他性访问，让所有的客户端都可以看得见。  
2. 使用setnx可以提供基本的加锁功能，但是功能不太完整。  

### 简易锁
简易锁只是基本上正确，它们发生故障的时间和方式通常难以预料。  
1. 持有锁的进程操作时间过长而导致锁被自动释放，但进程本身并不知晓这一点。  
2. 一个持有锁的进程奔溃，其他进程无感知。  (通过设置超时时间来避免)
3. 一个进程锁过期后，多个进程同时尝试去获取锁，并且都获得了锁。  

## 计数信号量
让一项资源最多能够同时被多少个进程访问